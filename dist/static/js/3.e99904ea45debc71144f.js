webpackJsonp([3],{"/VU7":function(e,t){},CKIx:function(e,t){},G6Cw:function(e,t,o){"use strict";t.b=function(e,t){var o=r()(e,t);return Object(l.a)({url:"/getLoginLog",method:"post",data:o})},t.a=function(e,t){var o=r()(e,t);return Object(l.a)({url:"/getErrorLog",method:"post",data:o})};var a=o("woOf"),r=o.n(a),l=o("vLgD")},NgmW:function(e,t,o){"use strict";var a={name:"TooltipIcon",props:{effect:{type:String,default:"dark"},content:{type:String,required:!0},placement:{type:String,default:"top"},iconClass:{type:String,default:"",required:!0}}},r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("el-tooltip",{attrs:{effect:this.effect,content:this.content,placement:this.placement}},[t("svg-icon",{attrs:{"icon-class":this.iconClass}})],1)],1)},staticRenderFns:[]};var l=o("VU/8")(a,r,!1,function(e){o("/VU7")},"data-v-917f6118",null);t.a=l.exports},rl1B:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o("Dd8w"),r=o.n(a),l=o("0hGl"),i=o.n(l),n=o("LzpX"),s=o.n(n),m=o("/MbV"),d=o.n(m),c=o("NgmW"),p=o("G6Cw"),u={name:"LoginLog",components:{CustomForm:i.a,CustomTable:s.a,Pagination:d.a,TooltipIcon:c.a},data:function(){return{forms:[{label:"服务名称",prop:"serverName"},{label:"操作者",itemType:"select",prop:"handleUser",options:[{label:"登录",value:"login"}]},{label:"操作时间",itemType:"date",prop:"handleTime"},{label:"操作终端",prop:"handleSite"},{label:"异常描述",prop:"errorCaption"}],tableOptions:{columns:[{label:"服务名称",prop:"serverName",width:80},{label:"操作者",prop:"handleUser",width:80},{label:"操作时间",prop:"handleTime",width:100},{label:"操作终端",prop:"handleSite",width:80},{label:"异常描述",prop:"errorCaption"}],dataSource:null},page:{pageIndex:1,pageSize:20},totalPage:null,formParams:{serverName:"",handleUser:"",handleTime:"",handleSite:"",errorCaption:""},dialogForm:{},dialogErrorLogDetail:!1}},created:function(){this.getErrorLog(this.formParams)},methods:{getErrorLog:function(e){var t=this;Object(p.a)(e,this.page).then(function(e){t.tableOptions.dataSource=e.data,t.totalPage=e.total})},fetchDetails:function(e){this.dialogErrorLogDetail=!0;var t=e.row;this.dialogForm=r()({},t),console.log(e)}}},g={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("custom-form",{attrs:{formName:"loginLogForm",inline:!0,showResetBtn:!0,handleSubmit:e.getErrorLog,forms:e.forms}}),e._v(" "),o("custom-table",{staticClass:"loading-area",attrs:{tableOptions:e.tableOptions}},[o("template",{slot:"handle-column"},[o("el-table-column",{attrs:{label:"操作",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",{staticStyle:{"font-size":"30px",cursor:"pointer"}},[o("tooltip-icon",{attrs:{content:"详情",iconClass:"view"},nativeOn:{click:function(o){return e.fetchDetails(t)}}})],1)]}}])})],1)],2),e._v(" "),o("pagination",{attrs:{page:e.page,layout:"total, prev, pager, next, sizes, jumper",totalPage:e.totalPage},on:{currentChange:function(t){return e.getErrorLog(e.formParams)}}}),e._v(" "),o("el-dialog",{attrs:{title:"异常日志详情",visible:e.dialogErrorLogDetail},on:{"update:visible":function(t){e.dialogErrorLogDetail=t}}},[o("el-form",{attrs:{model:e.dialogForm,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"服务名称"}},[o("el-input",{attrs:{readonly:""},model:{value:e.dialogForm.serverName,callback:function(t){e.$set(e.dialogForm,"serverName",t)},expression:"dialogForm.serverName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"异常类型"}},[o("el-input",{attrs:{readonly:""},model:{value:e.dialogForm.errorType,callback:function(t){e.$set(e.dialogForm,"errorType",t)},expression:"dialogForm.errorType"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"异常描述"}},[o("el-input",{attrs:{readonly:""},model:{value:e.dialogForm.errorCaption,callback:function(t){e.$set(e.dialogForm,"errorCaption",t)},expression:"dialogForm.errorCaption"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"端口号"}},[o("el-input",{attrs:{readonly:""},model:{value:e.dialogForm.siteNo,callback:function(t){e.$set(e.dialogForm,"siteNo",t)},expression:"dialogForm.siteNo"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"版本号"}},[o("el-input",{attrs:{readonly:""},model:{value:e.dialogForm.versionsNo,callback:function(t){e.$set(e.dialogForm,"versionsNo",t)},expression:"dialogForm.versionsNo"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"日志等级"}},[o("el-input",{attrs:{readonly:""},model:{value:e.dialogForm.logLv,callback:function(t){e.$set(e.dialogForm,"logLv",t)},expression:"dialogForm.logLv"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"日志时间"}},[o("el-input",{attrs:{readonly:""},model:{value:e.dialogForm.logTime,callback:function(t){e.$set(e.dialogForm,"logTime",t)},expression:"dialogForm.logTime"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"操作时间"}},[o("el-input",{attrs:{readonly:""},model:{value:e.dialogForm.handleTime,callback:function(t){e.$set(e.dialogForm,"handleTime",t)},expression:"dialogForm.handleTime"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"操作终端"}},[o("el-input",{attrs:{readonly:""},model:{value:e.dialogForm.handleSite,callback:function(t){e.$set(e.dialogForm,"handleSite",t)},expression:"dialogForm.handleSite"}})],1)],1),e._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogErrorLogDetail=!1}}},[e._v("确定")])],1)],1)],1)},staticRenderFns:[]};var f=o("VU/8")(u,g,!1,function(e){o("CKIx")},"data-v-a873f7ee",null);t.default=f.exports}});
//# sourceMappingURL=3.e99904ea45debc71144f.js.map